(this["webpackJsonpreact-example"]=this["webpackJsonpreact-example"]||[]).push([[0],{242:function(t,e,n){},243:function(t,e,n){},244:function(t,e,n){"use strict";n.r(e);var s=n(1),i=n(4),r=n.n(i),o=n(248),c=n(247),a=n(9),d=n.n(a),l=n(0);var u=function(t){var e=t.code,n=t.children;return Object(l.jsxs)(l.Fragment,{children:[n,Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(d.a,{trigger:Object(l.jsx)("button",{class:"button is-primary is-light is-large is-fullwidth",children:"See Code Example"}),children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(o.a,{language:"javascript",style:c.a,children:e})})})})]})};var h=function(){return Object(l.jsx)("div",{id:"component-example-svg",className:"container",children:Object(l.jsx)("section",{class:"hero",children:Object(l.jsxs)("div",{class:"hero-body",children:[Object(l.jsx)("p",{class:"title",children:"MoleculeStructure - A Basic React Component"}),Object(l.jsxs)("p",{class:"subtitle",children:["The examples below will mostly use the React component"," ",Object(l.jsx)("code",{className:"is-family-code",children:"MoleculeStructure"})," to render the examples. You can see the React implementation in the code below."]})]})})})},p=n(14),m=n(15),g=n(17),v=n(16),j=(n(242),function(t){Object(g.a)(n,t);var e=Object(v.a)(n);function n(t){var s;Object(p.a)(this,n),(s=e.call(this,t)).RDKit=window.RDKit,s.MOL_DETAILS=JSON.stringify({width:s.props.width||n.DEFAULT_SIZE.width,height:s.props.height||n.DEFAULT_SIZE.height,bondLineWidth:1,addStereoAnnotation:!0});var i="string"===typeof s.props.structure?s.props.structure:"";return s.state={svg:void 0,mol:s.RDKit&&s.RDKit.get_mol(i),rdKitLoaded:!!s.RDKit,rdKitError:!1},s}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.draw(),this.state.rdKitLoaded||window.initRDKitModule().then((function(e){window.RDKit=e,t.RDKit=window.RDKit,t.setState({rdKitLoaded:!0,rdKitError:!1})})).catch((function(){t.setState({rdKitLoaded:!1,rdKitError:!0})}))}},{key:"componentDidUpdate",value:function(t,e){var n=this,s=e.rdKitLoaded!==this.state.rdKitLoaded,i=t.structure!==this.props.structure;if(s||i){var r=this.state.mol||{};this.setState({mol:this.RDKit.get_mol(this.props.structure)},(function(){return n.draw()})),"object"===typeof r&&(r=null)}}},{key:"draw",value:function(){var t=this.isValidMol();if(t&&this.props.svgMode){var e=this.state.mol.get_svg_with_highlights(this.MOL_DETAILS);this.setState({svg:e})}else if(t){var n=document.getElementById(this.props.id);this.state.mol.draw_to_canvas_with_highlights(n,this.MOL_DETAILS)}}},{key:"render",value:function(){if(this.state.rdKitError)return"Error loading renderer.";if(!this.state.rdKitLoaded)return"Loading renderer...";return this.isValidMol()?this.props.svgMode?Object(l.jsx)("div",{title:this.props.structure,className:"molecule-structure-svg "+(this.props.className||""),style:{width:this.props.width,height:this.props.height},dangerouslySetInnerHTML:{__html:this.state.svg}}):Object(l.jsx)("canvas",{title:this.props.structure,id:this.props.id,width:this.props.width,height:this.props.height}):Object(l.jsxs)("span",{title:this.props.structure,children:[this.props.structure.substring(0,6)," ..."]})}},{key:"isValidMol",value:function(){return!!this.state.mol&&this.state.mol.is_valid()}}]),n}(s.Component));j.DEFAULT_SIZE={width:250,height:200};var f=j;var b=function(){return Object(l.jsxs)("div",{id:"component-example-svg",className:"container",children:[Object(l.jsx)("section",{class:"hero",children:Object(l.jsxs)("div",{class:"hero-body",children:[Object(l.jsx)("p",{class:"title",children:"SVG Rendering"}),Object(l.jsx)("p",{class:"subtitle",children:"You can render molecules using svg and specify height and width."})]})}),Object(l.jsxs)("div",{className:"columns is-desktop",children:[Object(l.jsx)("div",{className:"column",children:Object(l.jsx)(f,{width:350,height:300,svgMode:!0,structure:"CN1C=NC2=C1C(=O)N(C(=O)N2C)",id:"structure-example-svg-caffeine"})}),Object(l.jsx)("div",{className:"column",children:Object(l.jsx)(f,{width:350,height:300,svgMode:!0,structure:"CC(=O)Oc1ccccc1C(=O)O",id:"structure-example-svg-aspirin"})})]})]})};n(243);r.a.render(Object(l.jsx)(u,{code:'import React, { Component } from "react";\nimport "./MoleculeStructure.css";\nimport PropTypes from "prop-types";\n\nclass MoleculeStructure extends Component {\n  static DEFAULT_SIZE = {\n    width: 250,\n    height: 200,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.RDKit = window.RDKit;\n\n    this.MOL_DETAILS = JSON.stringify({\n      width: this.props.width || MoleculeStructure.DEFAULT_SIZE.width,\n      height: this.props.height || MoleculeStructure.DEFAULT_SIZE.height,\n      bondLineWidth: 1,\n      addStereoAnnotation: true,\n    });\n\n    const structure =\n      typeof this.props.structure === "string" ? this.props.structure : "";\n    this.state = {\n      svg: undefined,\n      mol: this.RDKit && this.RDKit.get_mol(structure),\n      rdKitLoaded: !!this.RDKit,\n      rdKitError: false,\n    };\n  }\n\n  componentDidMount() {\n    this.draw();\n\n    if (!this.state.rdKitLoaded) {\n      window\n        .initRDKitModule()\n        .then((RDKit) => {\n          window.RDKit = RDKit;\n          this.RDKit = window.RDKit;\n          this.setState({ rdKitLoaded: true, rdKitError: false });\n        })\n        .catch(() => {\n          this.setState({ rdKitLoaded: false, rdKitError: true });\n        });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const rdkitStateChanged = prevState.rdKitLoaded !== this.state.rdKitLoaded;\n    const structureChanged = prevProps.structure !== this.props.structure;\n\n    if (rdkitStateChanged || structureChanged) {\n      let oldMol = this.state.mol || {};\n      this.setState({ mol: this.RDKit.get_mol(this.props.structure) }, () =>\n        this.draw()\n      );\n      /**\n       * attempt at forcing old mol objects\n       * to be garbage collected\n       */\n      if (typeof oldMol === "object") {\n        oldMol = null;\n      }\n    }\n  }\n\n  draw() {\n    const isValidMol = this.isValidMol();\n    if (isValidMol && this.props.svgMode) {\n      const svg = this.state.mol.get_svg_with_highlights(this.MOL_DETAILS);\n      this.setState({ svg });\n    } else if (isValidMol) {\n      const canvas = document.getElementById(this.props.id);\n      this.state.mol.draw_to_canvas_with_highlights(canvas, this.MOL_DETAILS);\n    }\n  }\n\n  render() {\n    if (this.state.rdKitError) {\n      return "Error loading renderer.";\n    }\n    if (!this.state.rdKitLoaded) {\n      return "Loading renderer...";\n    }\n\n    let compound = null;\n    if (!this.isValidMol()) {\n      compound = (\n        <span title={this.props.structure}>\n          {this.props.structure.substring(0, 6)} ...\n        </span>\n      );\n    } else if (this.props.svgMode) {\n      compound = (\n        <div\n          title={this.props.structure}\n          className={"molecule-structure-svg " + (this.props.className || "")}\n          style={{ width: this.props.width, height: this.props.height }}\n          dangerouslySetInnerHTML={{ __html: this.state.svg }}\n        ></div>\n      );\n    } else {\n      compound = (\n        <canvas\n          title={this.props.structure}\n          id={this.props.id}\n          width={this.props.width}\n          height={this.props.height}\n        ></canvas>\n      );\n    }\n\n    return compound;\n  }\n\n  isValidMol() {\n    return !!this.state.mol && this.state.mol.is_valid();\n  }\n}\n\nMoleculeStructure.propTypes = {\n  id: PropTypes.string.isRequired,\n  structure: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  svgMode: PropTypes.bool,\n  width: PropTypes.number,\n  height: PropTypes.number,\n};\n\nexport default MoleculeStructure;\n',children:Object(l.jsx)(h,{})}),document.getElementById("example-mol-structure")),r.a.render(Object(l.jsx)(u,{code:'import MoleculeStructure from "../components/MoleculeStructure/MoleculeStructure";\n\nfunction ExampleSVG() {\n  const caffeine = "CN1C=NC2=C1C(=O)N(C(=O)N2C)";\n  const aspirin = "CC(=O)Oc1ccccc1C(=O)O";\n\n  return (\n    <div id="component-example-svg" className="container">\n      <section class="hero">\n        <div class="hero-body">\n          <p class="title">SVG Rendering</p>\n          <p class="subtitle">\n            You can render molecules using svg and specify height and width.\n          </p>\n        </div>\n      </section>\n      <div className="columns is-desktop">\n        <div className="column">\n          <MoleculeStructure\n            width={350}\n            height={300}\n            svgMode\n            structure={caffeine}\n            id="structure-example-svg-caffeine"\n          />\n        </div>\n        <div className="column">\n          <MoleculeStructure\n            width={350}\n            height={300}\n            svgMode\n            structure={aspirin}\n            id="structure-example-svg-aspirin"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ExampleSVG;\n',children:Object(l.jsx)(b,{})}),document.getElementById("example-svg")),r.a.render(Object(l.jsx)(u,{code:'import MoleculeStructure from "../components/MoleculeStructure/MoleculeStructure";\n\nfunction ExampleCanvas() {\n  const caffeine = "CN1C=NC2=C1C(=O)N(C(=O)N2C)";\n  const aspirin = "CC(=O)Oc1ccccc1C(=O)O";\n\n  return (\n    <div id="component-example-canvas" className="container">\n      <section class="hero">\n        <div class="hero-body">\n          <p class="title">Canvas rendering</p>\n          <p class="subtitle">\n            You can also render molecules using the HTML Canvas API and specify\n            height and width.\n          </p>\n        </div>\n      </section>\n      <div className="columns is-desktop">\n        <div className="column">\n          <MoleculeStructure\n            width={350}\n            height={300}\n            structure={caffeine}\n            id="structure-example-canvas-caffeine"\n          />\n        </div>\n        <div className="column">\n          <MoleculeStructure\n            width={350}\n            height={300}\n            structure={aspirin}\n            id="structure-example-canvas-aspirin"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ExampleCanvas;\n',children:Object(l.jsx)(b,{})}),document.getElementById("example-canvas"))}},[[244,1,2]]]);
//# sourceMappingURL=main.ac024bdd.chunk.js.map